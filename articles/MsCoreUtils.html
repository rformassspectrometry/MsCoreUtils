<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="MsCoreUtils">
<title>Core Utils for Mass Spectrometry Data • MsCoreUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Core Utils for Mass Spectrometry Data">
<meta property="og:description" content="MsCoreUtils">
<meta property="og:image" content="https://rformassspectrometry.github.io/MsCoreUtils/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">MsCoreUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.15.4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/MsCoreUtils.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/RforMassSpectrometry/MsCoreUtils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Core Utils for Mass Spectrometry Data</h1>
                        <h4 data-toc-skip class="author">MsCoreUtils
Package Maintainers</h4>
                        
      
      <small class="dont-index">Source: <a href="https://github.com/RforMassSpectrometry/MsCoreUtils/blob/HEAD/vignettes/MsCoreUtils.Rmd" class="external-link"><code>vignettes/MsCoreUtils.Rmd</code></a></small>
      <div class="d-none name"><code>MsCoreUtils.Rmd</code></div>
    </div>

    
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  document.querySelector("h1").className = "title";
});
</script><script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if (links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script><div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>MsCoreUtils</code> package low-level functions for mass
spectrometry data and is independent of any high-level data structures
<span class="citation">[@rainer_modular_2022]</span>. These functions
include mass spectra processing functions (noise estimation, smoothing,
binning), quantitative aggregation functions (median polish, robust
summarisation, …), missing data imputation, data normalisation
(quantiles, vsn, …) as well as misc helper functions, that are used
across high level data structure within the R for Mass Spectrometry
packages.</p>
<p>For a full list of function, see</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/RforMassSpectrometry/MsCoreUtils" class="external-link">"MsCoreUtils"</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span>pos <span class="op">=</span> <span class="st">"package:MsCoreUtils"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##  [1] "%between%"                  "aggregate_by_matrix"       </span></span>
<span><span class="co">##  [3] "aggregate_by_vector"        "asInteger"                 </span></span>
<span><span class="co">##  [5] "between"                    "bin"                       </span></span>
<span><span class="co">##  [7] "breaks_ppm"                 "closest"                   </span></span>
<span><span class="co">##  [9] "coefMA"                     "coefSG"                    </span></span>
<span><span class="co">## [11] "coefWMA"                    "colCounts"                 </span></span>
<span><span class="co">## [13] "colMeansMat"                "colSumsMat"                </span></span>
<span><span class="co">## [15] "common"                     "entropy"                   </span></span>
<span><span class="co">## [17] "estimateBaseline"           "estimateBaselineConvexHull"</span></span>
<span><span class="co">## [19] "estimateBaselineMedian"     "estimateBaselineSnip"      </span></span>
<span><span class="co">## [21] "estimateBaselineTopHat"     "formatRt"                  </span></span>
<span><span class="co">## [23] "getImputeMargin"            "gnps"                      </span></span>
<span><span class="co">## [25] "group"                      "i2index"                   </span></span>
<span><span class="co">## [27] "impute_bpca"                "impute_fun"                </span></span>
<span><span class="co">## [29] "impute_knn"                 "impute_matrix"             </span></span>
<span><span class="co">## [31] "impute_min"                 "impute_MinDet"             </span></span>
<span><span class="co">## [33] "impute_MinProb"             "impute_mixed"              </span></span>
<span><span class="co">## [35] "impute_mle"                 "impute_neighbour_average"  </span></span>
<span><span class="co">## [37] "impute_QRILC"               "impute_RF"                 </span></span>
<span><span class="co">## [39] "impute_with"                "impute_zero"               </span></span>
<span><span class="co">## [41] "imputeMethods"              "isPeaksMatrix"             </span></span>
<span><span class="co">## [43] "join"                       "join_gnps"                 </span></span>
<span><span class="co">## [45] "localMaxima"                "maxi"                      </span></span>
<span><span class="co">## [47] "medianPolish"               "navdist"                   </span></span>
<span><span class="co">## [49] "ndotproduct"                "nentropy"                  </span></span>
<span><span class="co">## [51] "neuclidean"                 "noise"                     </span></span>
<span><span class="co">## [53] "normalize_matrix"           "normalizeMethods"          </span></span>
<span><span class="co">## [55] "nspectraangle"              "ppm"                       </span></span>
<span><span class="co">## [57] "rbindFill"                  "refineCentroids"           </span></span>
<span><span class="co">## [59] "rla"                        "robustSummary"             </span></span>
<span><span class="co">## [61] "rowRla"                     "rt2character"              </span></span>
<span><span class="co">## [63] "rt2numeric"                 "smooth"                    </span></span>
<span><span class="co">## [65] "sumi"                       "validPeaksMatrix"          </span></span>
<span><span class="co">## [67] "valleys"                    "vapply1c"                  </span></span>
<span><span class="co">## [69] "vapply1d"                   "vapply1l"                  </span></span>
<span><span class="co">## [71] "which.first"                "which.last"</span></span></code></pre>
<p>or the <a href="https://rformassspectrometry.github.io/MsCoreUtils/reference/index.html">reference
page</a> on the package webpage.</p>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<p>The functions defined in this package utilise basic classes with the
aim of being reused in packages that provide a more formal, high-level
interface.</p>
<p>As an examples, let’s take the <code><a href="../reference/robustSummary.html">robustSummary()</a></code> function,
that calculates the robust summary of the columns of a matrix:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">30</span><span class="op">)</span>, nrow <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre><code><span><span class="co">##            a          b         c          d          e          f          g</span></span>
<span><span class="co">## A  1.7087091  0.1498316  1.716013  0.8650781  0.3808753 -0.2768288 -0.6924202</span></span>
<span><span class="co">## B -0.4802586  0.4386985 -1.292650  0.8561069 -1.6614060  0.2279832 -0.9475389</span></span>
<span><span class="co">## C  0.6424481 -1.3672774 -2.060331 -0.2341534  0.3925592  0.7945338  0.3624875</span></span>
<span><span class="co">##            h          i          j</span></span>
<span><span class="co">## A -1.1992017  0.2771647  0.8416447</span></span>
<span><span class="co">## B -1.0246419  0.1066515 -0.1789198</span></span>
<span><span class="co">## C -0.9968909 -0.1974900 -0.6438447</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/robustSummary.html">robustSummary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           a           b           c           d           e           f </span></span>
<span><span class="co">##  0.62363286 -0.25958243 -0.98023294  0.49567720 -0.22035464  0.24856272 </span></span>
<span><span class="co">##           g           h           i           j </span></span>
<span><span class="co">## -0.42582388 -1.07357817  0.06210874  0.00629341</span></span></code></pre>
<p>This function is typicall to be used to summarise peptide
quantitation values into protein intensities<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;See Sticker &lt;em&gt;et al.&lt;/em&gt; Robust summarization and
inference in proteome-wide label-free quantification. &lt;a href="https://doi.org/10.1101/668863" class="external-link uri"&gt;https://doi.org/10.1101/668863&lt;/a&gt;.&lt;/p&gt;'><sup>1</sup></a>. This functionality is
available in</p>
<ul>
<li><p>the <a href="http://lgatto.github.io/MSnbase/reference/combineFeatures.html" class="external-link">MSnbase::combineFeatures()</a>
function for <code>MSnSet</code> objects and</p></li>
<li><p>the <a href="https://rformassspectrometry.github.io/QFeatures/reference/Features-aggregate.html" class="external-link">QFeatures::aggregateFeatures()</a>
function for <code>QFeatures</code> objects.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="contributions">Contributions<a class="anchor" aria-label="anchor" href="#contributions"></a>
</h2>
<p>If you would like to contribute any low-level functionality, please
<a href="https://github.com/RforMassSpectrometry/MsCoreUtils/issues" class="external-link">open a
GitHub issue</a> to discuss it. Please note that any <a href="https://rformassspectrometry.github.io/RforMassSpectrometry/articles/RforMassSpectrometry.html#contributions" class="external-link">contributions</a>
should follow the <a href="https://rformassspectrometry.github.io/RforMassSpectrometry/articles/RforMassSpectrometry.html#coding-style" class="external-link">style
guide</a> and will require an appropriate unit test.</p>
<p>If you wish to reuse any functions in this package, please just go
ahead. If you would like any advice or seek help, please either <a href="https://github.com/RforMassSpectrometry/MsCoreUtils/issues" class="external-link">open a
GitHub issue</a>.</p>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<pre><code><span><span class="co">## R Under development (unstable) (2024-02-21 r85967)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 22.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so;  LAPACK version 3.10.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] MsCoreUtils_1.15.4 BiocStyle_2.31.0  </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] vctrs_0.6.5         cli_3.6.2           knitr_1.45         </span></span>
<span><span class="co">##  [4] rlang_1.1.3         xfun_0.42           stringi_1.8.3      </span></span>
<span><span class="co">##  [7] purrr_1.0.2         textshaping_0.3.7   clue_0.3-65        </span></span>
<span><span class="co">## [10] jsonlite_1.8.8      glue_1.7.0          S4Vectors_0.41.3   </span></span>
<span><span class="co">## [13] htmltools_0.5.7     stats4_4.4.0        ragg_1.2.7         </span></span>
<span><span class="co">## [16] sass_0.4.8          rmarkdown_2.25      evaluate_0.23      </span></span>
<span><span class="co">## [19] jquerylib_0.1.4     MASS_7.3-60.2       fastmap_1.1.1      </span></span>
<span><span class="co">## [22] yaml_2.3.8          lifecycle_1.0.4     memoise_2.0.1      </span></span>
<span><span class="co">## [25] bookdown_0.37       BiocManager_1.30.22 stringr_1.5.1      </span></span>
<span><span class="co">## [28] cluster_2.1.6       compiler_4.4.0      fs_1.6.3           </span></span>
<span><span class="co">## [31] systemfonts_1.0.5   digest_0.6.34       R6_2.5.1           </span></span>
<span><span class="co">## [34] magrittr_2.0.3      bslib_0.6.1         tools_4.4.0        </span></span>
<span><span class="co">## [37] BiocGenerics_0.49.1 pkgdown_2.0.7       cachem_1.0.8       </span></span>
<span><span class="co">## [40] desc_1.4.3</span></span></code></pre>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by RforMassSpectrometry Package Maintainer, Laurent Gatto, Johannes Rainer, Sebastian Gibb.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
